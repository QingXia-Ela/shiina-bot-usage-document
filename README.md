# ShiinaBot使用文档

## 介绍

这里是ShiinaBot的使用文档，本机器人基于 GitHub oicq 机器人框架进行开发。
你可以在这个文档查找机器人的所有功能，
使用 ctrl+f 可以在该页面中搜索内容，
目前 Bot 处于开发阶段，所以不是实时在线与回复，

有建议的话直接联系我qq：3092514593，我会及时回复。

## 使用注意事项

### 关于指令的示例（重要）

(xxx)表示中括号里的内容是必选参数

[xxx]表示中括号里的内容是可选的

### 关于私信功能

目前由于个人技术原因 ~~其实是我想偷懒了~~
私信现在不对外开放，但是加好友和群邀请功能还是生效的，如果你想邀请 bot 加群也不是不行，就看她什么时候心情好会加就可以了

------

## 功能列表

### 关键词判断
关键词判断只有整条消息符合给定关键词的时候会触发，如群友发送"草"，则回复 "草，一种植物"，回答的都是预设好的内容

### 戳一戳回复
群友在戳机器人的时候会回复，从给定好的回答里随机抽一个回答群友

### 被@回复
在做了在做了（新建文件夹）

### 打招呼服务
当群友发送的消息满足以下正则表达式时触发：
1. `/[早中下晚][午上]好/`
2. `/^\早{1,3}$/`

如果都没匹配到则进行查表，匹配到对应内容后触发打招呼；
打招呼时间是以中国时间 (GMT+8) 进行判断，应该没有群友已经出国留学了吧。。。
以下是时间表：
1. 0:00 ~ 4:59 凌晨
2. 5:00 ~ 10:59 上午
3. 11:00 ~ 13:59 中午
4. 14:00 ~ 18:59 下午
5. 19:00 ~ 23:59 晚上

每个时间段都有不同的打招呼内容。

当打招呼时间为上午时，机器人会自动附上一句一言。关于一言可以到娱乐功能一栏下查看。

### 欢迎新群友

当有新的群友加入时自动@他并回复预设好的内容。

### MC 服务器查询

使用方法：`ping [服务器地址] [是否是基岩版服务器]`

如果是基岩版服务器则把第三个参数就设置为 true

举例：ping play.hypixel.net

设置群内默认服务器：`ping set [服务器地址] [是否是基岩版服务器]`

以上功能设置时会尝试 ping 地址一次，成功后检测到后就可以直接使用 ping 命令进行查询了

设置、查询、移除 key 对应服务器：

- 设置：`ping setkey [key] [服务器地址]`
- 查询：`ping getkey`
- 移除：`ping removekey [key]`

以上功能设置时会尝试 ping 地址一次，成功后检测到后就可以成功设置了

有的时候可能会超时，多试几次就好 (用的国外的 API 可能会慢一些)

超时时间为 15 秒

### 疫情查询

功能已下架，因为数据源不可靠

### 娱乐项目

#### 骰子

使用方法：`.r<次数>d<上限>`

次数上限为 10 次，数字大小上限为 2的53次方

用例：

- `.rd` 投掷 1 次，上限100
- `.r10d` 投掷 10 次，上限100
- `.rd114514` 投掷 1 次，上限114514
- - `.r10d114514` 投掷 10 次，上限114514

数字会通过 parseInt 进行转换，所以只要是合法数字均可，如 16 进制的 0x0000aa

#### 求签

格式：`求签 [所求事项]`，如：`求签 今天力扣能不能AK`

每日 0 点重置结果

#### 今日人品

当群友发送以下词语 `[jrrp, 今日运势, 今日人品]` 时 ，机器人以数字的形式告诉你今天运势如何，下限`0`，上限`100`，每天均固定一个值。凌晨 0 点为人品值刷新时间

注意：这个人品值是 一个 QQ 号 对应一个人品值，即不管你在哪个群，人品值都是一样的   ~~没错就是这么无情~~

当群友发送以下词语 `[人品榜, 运势榜, 今日运势榜, 人品排名, 今日人品榜]` 时 ，机器人会告诉你本群所有计算过运势的群友的运势排名

#### 一言

当群友发送 `一言` 时 ，机器人发送一句一言并附上来源。

一言资源来自：https://hitokoto.cn/

#### 恶臭检测
当群友发送的消息为 114514 时，自动接上 19819810

当群友发送的消息满足 `/哼哼哼?[,，]? ?啊啊啊+/` 正则表达式时 ， 自动回复"臭死了"。

#### 来点二次元

当群友发送的消息为 "来点二次元"， Bot 会从图库里随机抽一张图片发出来，有的图片可能会很大，发送需要一些时间。

为避免刷屏，该功能一分钟内只能使用三次。

图库来源：https://iw233.cn/

**额外关键词**

当回复内容携带指定关键词时会触发，比如：来点群u

可以通过以下命令进行设置：

`来点二次元 add [关键词]` 进行关键词添加

`来点二次元 remove [关键词]` 进行关键词删除

`来点二次元 list` 列出本群设置的关键词

#### 投食

功能已关闭

#### 定型文

用法： `定型文 (对象) [定型文id]`

目前的定型文有如下：

1.我的手总是忍不住点进billbill。\n总是忍不住在
1.我忘不掉{{ str }}了。\n如果不是知道{{ str }}
1.想和{{ str }}去100个城市来99个拥抱看98场日落
1.我又梦见{{ str }}了\n醒来觉得很空虚，很茫然\n
1.我好想做{{ str }}小姐的狗啊！\n我真的好想做{{
1.不看{{ str }}10小时了\n数学分析的课程又有趣了
1.{{ str }}依然这么可爱。\n什么都没变，是我没跟
1.{{ str }}晚安的一吻，吻在了我的灵魂。\n{{ str
1.有人问我：“{{ str }}是谁？”\n我想了想，该如何
1.卧槽家人们！你们有没有看这个啊，啊这个{{ str 
1.我真的想{{ str }}想得要发疯了。我躺在床上会想
1.“这么晚了不走吗？”\n{{ str }}摇了摇头\n“我这
1.{{ str }}担心我，要休息，但是没关系，明天不用
1.我就要围着{{ str }}转，书也别读了，班也别上了
1.不喜欢{{ str }}的人有难了，很难想象，一个精神
1.{{ str }}妈妈就围着我转咯，书有得读，班也有得
1.{{ str }}小姐昨天吃了酸菜鱼，可她不知道那是我

注意：超过150字的小作文会在发出后一分钟撤回，避免刷屏。

欢迎群友投稿自己的小作文。

#### 营销号生成器

用法： `营销号 (对象)`

会生成一个营销号文案

#### 无情的复读机器

当群友复读同一个东西达到4次时触发一次复读

### **以下功能只有 bot 为管理员时可用**

#### 毛子转盘

当群友发送`毛子转盘`时，有 50% 的概率被射中并禁言 2 ~ 5 分钟

#### 禁言抽奖

当群友发送`禁言抽奖`时，bot 会将发送者随机禁言1 ~ 30 分钟

#### 自助禁言

使用格式 `自助禁言 [分钟]` ，效果可以自己试试

### 游戏相关

**目前许多功能仍然在开发中！可能会有 Bug ！**

#### 明日方舟

##### 公招计算

使用格式：`公招 (词条数量)` 使用逗号将词条间隔开来

用例 ： `公招 高级资深干员，削弱，控场`

返回信息如下：

```
查询标签：高级资深干员，削弱，控场

tag：高级资深干员,削弱
  6 - 伊芙利特

tag：高级资深干员,控场
  6 - 莫斯提马  6 - 刻俄柏

tag：高级资深干员
  6 - 能天使  6 - 黑  6 - 伊芙利特  6 - 莫斯提马  6 - 推进之王  6 - 银灰  6 - 赫拉格  6 - 斯卡蒂  6 - 陈  6 - 煌  6 - 星熊  6 - 塞雷娅  6 - 闪灵  6 - 夜莺  6 - 麦哲伦  6 - 刻俄柏  6 - 阿

tag：削弱
  4 - 流星  4 - 夜烟  5 - 陨星  5 - 初雪  5 - 槐琥  6 - 伊芙利特

tag：控场
  5 - 德克萨斯  5 - 梅尔  5 - 格劳克斯  5 - 红  6 - 莫斯提马  6 - 刻俄柏

注意：部分tag如果公招时间拉到 7 小时 40 分钟以上则可以将 3 星以下干员忽略
```