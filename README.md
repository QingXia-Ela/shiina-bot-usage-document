# ShiinaBot使用文档

## 介绍

这里是ShiinaBot的使用文档，本机器人基于 GitHub icqq 机器人协议进行开发。
你可以在这个文档查找机器人的所有功能，
使用 ctrl+f 可以在该页面中搜索内容，

出 bug 了不要急，会在一两天内修复

申请机器人的使用请找QQ：2108694627

机器人会在运营期间内永久保持免费

## 使用注意事项

### 关于指令的示例（重要）

(xxx)表示中括号里的内容是必选参数

[xxx]表示中括号里的内容是可选的

举例：

`求签 (求签内容)`

对应指令

`求签 今天我要睡觉`

## 管理员指令

该部分指令与基本功能指令独立，仅群主与群管理员可以使用

### 在本群关闭 / 开启机器人

关闭机器人：`#ban`

开启机器人：`#unban`

### 在本群关闭 / 开启某个插件

插件名字可以在下方 [基本功能](#基本功能) 部分查看

关闭某个插件：`#ban plugin (插件名字)`

开启某个插件：`#unban plugin (插件名字)`

举例：`#ban plugin jrrp` 将会禁用[今日人品](#今日人品（插件名字：jrrp）)插件

## 基本功能

### 签到 (插件名字：签到)

使用示例：`签到`

会发送一张签到图，并附带执行今日人品功能

假如机器人没有反应可以再试试

有的时候图片里面没有自己的名字，这是正常现象（

### 打招呼（插件名字：SayHi）

当群消息满足以下正则表达式时触发：

1. `/[早中下晚][午上]好/`
2. `/^\早{1,3}$/`

如果都没匹配到则进行查表，匹配到对应内容后触发打招呼；打招呼时间是以中国时间 (GMT+8) 进行判断

以下是时间表：
1. 0:00 ~ 4:59 凌晨
2. 5:00 ~ 10:59 上午
3. 11:00 ~ 13:59 中午
4. 14:00 ~ 18:59 下午
5. 19:00 ~ 23:59 晚上

每个时间段都有不同的打招呼内容。

当打招呼时间为上午时，机器人会自动附上一句一言。关于一言可以到娱乐功能一栏下查看。

### 戳一戳（插件名字：poke）

使用示例：群内戳一戳机器人

会返回一些预设好的句子

### 骰子（插件名字：dice）

使用示例：`.r<次数>d<上限>`

次数上限为 10 次，数字大小上限为 2的53次方

用例：

- `.rd` 投掷 1 次，上限100
- `.r10d` 投掷 10 次，上限100
- `.rd114514` 投掷 1 次，上限114514
- `.r10d114514` 投掷 10 次，上限114514

数字会通过 parseInt 进行转换，所以只要是合法数字均可，如 16 进制的 0x0000aa

### 求签（插件名字：pray）

使用示例：`求签 (所求事项)`，如：`求签 今天力扣能不能AK`

每日 0 点重置结果

### 定型文（插件名字：pattern）

使用示例： `定型文 (对象) [定型文id]`

目前的定型文有如下：

1. `我的手总是忍不住点进billbill。\n总是忍不住在...`
1. `我忘不掉{{ str }}了。\n如果不是知道{{ str }}...`
1. `想和{{ str }}去100个城市来99个拥抱看98场日落...`
1. `我又梦见{{ str }}了\n醒来觉得很空虚，很茫然\n...`
1. `我好想做{{ str }}小姐的狗啊！\n我真的好想做{{...`
1. `不看{{ str }}10小时了\n数学分析的课程又有趣了...`
1. `{{ str }}依然这么可爱。\n什么都没变，是我没跟...`
1. `{{ str }}晚安的一吻，吻在了我的灵魂。\n{{ str...`
1. `有人问我：“{{ str }}是谁？”\n我想了想，该如何...`
1. `卧槽家人们！你们有没有看这个啊，啊这个{{ str ...`
1. `我真的想{{ str }}想得要发疯了。我躺在床上会想...`
1. `“这么晚了不走吗？”\n{{ str }}摇了摇头\n“我这...`
1. `{{ str }}担心我，要休息，但是没关系，明天不用...`
1. `我就要围着{{ str }}转，书也别读了，班也别上了...`
1. `不喜欢{{ str }}的人有难了，很难想象，一个精神...`
1. `{{ str }}妈妈就围着我转咯，书有得读，班也有得...`
1. `{{ str }}小姐昨天吃了酸菜鱼，可她不知道那是我...`

注意：超过150字的小作文会在发出后一分钟撤回，避免刷屏。

欢迎群友投稿自己的小作文。

### 禁言相关（插件名字：禁言）

该功能只有在机器人为管理员时才可以正常使用！

#### 毛子转盘

当群友发送`毛子转盘`时，有 50% 的概率被射中并禁言 2 ~ 5 分钟

#### 禁言抽奖

当群友发送`禁言抽奖`时，bot 会将发送者随机禁言1 ~ 30 分钟

#### 自助禁言

使用格式 `自助禁言 [分钟]` ，效果可以自己试试

### 一言（插件名字：hitokoto）

使用示例： `一言`

机器人发送一句一言并附上来源。

一言资源来自：https://hitokoto.cn/

### 来点图（插件名字：Img2D）

当群友发送的消息为 "来点二次元"， Bot 会从图库里随机抽一张图片发出来，有的图片可能会很大，发送需要一些时间。

为避免刷屏，该功能一分钟内只能使用三次。

图库来源：https://iw233.cn/

#### 特色功能

当回复内容携带指定关键词时会触发，比如：`来点群u`

可以通过以下命令进行设置：

`来点二次元 add [关键词]` 进行关键词添加

`来点二次元 remove [关键词]` 进行关键词删除

`来点二次元 list` 列出本群设置的关键词

#### 来点白丝

会发送一张三次元的 白丝图

### mc服务器状态检查（插件名字：ping）

你也可以在群里发送 `ping help` 查看所有指令

使用示例：`ping [服务器地址] [是否是基岩版服务器]`

如果是基岩版服务器则把第三个参数就设置为 true

举例：`ping play.hypixel.net`

设置群内默认服务器：`ping set [服务器地址] [是否是基岩版服务器]`

以上功能设置时会尝试 ping 地址一次，成功后检测到后就可以直接使用 ping 命令进行查询了

设置、查询、移除 key 对应服务器：

- 设置：`ping setkey [key] [服务器地址]`
- 查询：`ping getkey`
- 移除：`ping removekey [key]`

以上功能设置时会尝试 ping 地址一次，成功后检测到后就可以成功设置了

有的时候可能会超时，多试几次就好 (用的国外的 API 可能会慢一些)

超时时间为 15 秒

### 快捷图片（插件名字：ImgTiper）

目前有以下图片：

- 提问的艺术
- 问群友
- 截图警察

自己发送一下看看效果吧

### 今日人品（插件名字：jrrp）

使用示例：`jrrp`、`今日运势`、`今日人品`

机器人以数字的形式告诉你今天人品如何，下限`0`，上限`100`，每天均固定一个值。凌晨 0 点为人品值刷新时间

注意：这个人品值是 一个 QQ 号 对应一个人品值，即不管你在哪个群，人品值都是一样的

当群友发送以下词语 `[人品榜, 运势榜, 今日运势榜, 人品排名, 今日人品榜]` 时 ，机器人会告诉你本群所有计算过运势的群友的运势排名

该功能数值与签到功能数值绑定

### 圣经（插件名字：bible）

使用示例：`[关键词]圣经`，例如：计算机圣经

目前已收录计算机、土木、机械专业的圣经，欢迎联系作者QQ补充
